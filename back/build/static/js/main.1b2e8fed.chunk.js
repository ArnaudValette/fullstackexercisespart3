(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(16),o=n.n(r),a=n(3),u=n(4),i=n.n(u),s="/api/persons",d={getData:function(){return i.a.get(s).then((function(e){return e.data}))},addPerson:function(e,t){return i.a.post(s,e).then(t)},removePerson:function(e,t){return console.log(e.id),i.a.delete("".concat(s,"/").concat(e.id)).then(t)},updatePerson:function(e,t,n){return i.a.put("".concat(s,"/").concat(e.id),t).then(n)}},j=(n(39),n(0));var b=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),i=u[0],s=u[1],b=Object(c.useState)(""),f=Object(a.a)(b,2),l=f[0],h=f[1],m=Object(c.useState)(""),p=Object(a.a)(m,2),O=p[0],x=p[1],g=Object(c.useState)([]),v=Object(a.a)(g,2),w=v[0],y=v[1],S=Object(c.useState)(""),C=Object(a.a)(S,2),P=C[0],k=C[1],A=Object(c.useState)(""),D=Object(a.a)(A,2),E=D[0],F=D[1],L=function(){d.getData().then((function(e){r(e),h(""),x("")}))},R=function(e){k(e),setTimeout((function(){k("")}),2e3)},B=function(e){F(e),setTimeout((function(){F("")}),2e3)};return Object(c.useEffect)((function(){y(n.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})))}),[i,n]),Object(c.useEffect)((function(){L()}),[]),Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("h1",{children:"Phonebook App"}),Object(j.jsxs)("p",{children:["filter shown with ",Object(j.jsx)("input",{value:i,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsx)("h1",{children:"Add someone "}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:l,number:O},c=n.find((function(e){return e.name===t.name}));c?window.confirm("Updating ".concat(c.name," number ?"))?d.updatePerson(c,t,L).then((function(e){return B("Updated ".concat(c.name))})).catch((function(e){return R(e.response.data.error)})):L():d.addPerson(t,L).then((function(e){return B("Added ".concat(t.name))})).catch((function(e){return R(e.response.data.error)}))},children:[Object(j.jsxs)("p",{children:["name:",Object(j.jsx)("input",{value:l,onChange:function(e){return h(e.target.value)}})]}),Object(j.jsxs)("p",{children:["number: ",Object(j.jsx)("input",{value:O,onChange:function(e){return x(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",children:"add"})]}),Object(j.jsx)("ul",{style:{listStyle:"none"},children:w.map((function(e){return Object(j.jsxs)("li",{children:[e.name," ",e.number,Object(j.jsx)("button",{style:{marginLeft:"10px"},onClick:function(){!function(e){window.confirm("Do you really want to remove ".concat(e.name," from the database ?"))&&d.removePerson(e,L).then((function(t){return B("Removed ".concat(e.name))}))}(e)},children:"remove"})]},e.id)}))}),Object(j.jsxs)("span",{children:[Object(j.jsx)("h1",{style:P?{backgroundColor:"#912460",color:"white",borderRadius:"10px",margin:"50px",padding:"10px",fontFamily:"sans-serif",textAlign:"center"}:{},children:P}),Object(j.jsx)("h1",{style:E?{backgroundColor:"#18F2B2",color:"white",borderRadius:"10px",margin:"10px",padding:"10px",fontFamily:"sans-serif"}:{},children:E})]})]})};o.a.render(Object(j.jsx)(b,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.1b2e8fed.chunk.js.map