{"version":3,"sources":["services/person.js","App.js","index.js"],"names":["baseUrl","personServices","getData","axios","get","then","res","data","addPerson","newObj","callBack","post","removePerson","target","console","log","id","delete","updatePerson","put","App","useState","person","setPerson","filter","setFilter","name","setName","number","setNumber","filtered","setFiltered","errorMsg","setErrorMessage","notification","setNotif","refreshData","response","displayError","message","setTimeout","displayNotif","useEffect","toLowerCase","includes","style","textAlign","value","onChange","event","onSubmit","preventDefault","find","window","confirm","catch","error","result","type","listStyle","map","marginLeft","onClick","handleDeletionOf","backgroundColor","color","borderRadius","margin","padding","fontFamily","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b2e8fed.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = \"/api/persons\"\n\nconst getData = () => {\n    const request = axios.get(baseUrl)\n    return request.then(res => res.data)\n}\n\nconst addPerson = (newObj,callBack) => {\n    const request = axios.post(baseUrl, newObj)\n    return request.then(callBack)\n}\n\nconst removePerson = (target, callBack) => {\n    console.log(target.id)\n    const request = axios.delete(`${baseUrl}/${target.id}`)\n    return request.then(callBack)\n}\n\nconst updatePerson = (target, newObj, callBack) => {\n    const request = axios.put(`${baseUrl}/${target.id}`, newObj)\n    return request.then(callBack)\n}\n\n\nconst personServices = {getData, addPerson, removePerson, updatePerson}\n\n\nexport default personServices","import personServices from './services/person'\nimport {useState, useEffect} from 'react'\nimport './font.css'\nfunction App() {\n  const [person, setPerson] = useState([])\n  const [filter, setFilter] = useState(\"\")\n  const [name, setName] = useState(\"\")\n  const [number, setNumber] = useState(\"\")\n  const [filtered, setFiltered] = useState([])\n  const [errorMsg, setErrorMessage] = useState(\"\")\n  const [notification, setNotif] = useState(\"\")\n\n  const refreshData = () => {\n    personServices.getData().then(response => {\n      setPerson(response)\n      setName(\"\")\n      setNumber(\"\")\n    })\n  }\n  const displayError = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(\"\")\n    }, 2000);\n  }\n  const displayNotif = (message) => {\n    setNotif(message)\n    setTimeout(() => {\n      setNotif(\"\")\n    }, 2000);\n  }\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    const newObj = {name : name, number : number}\n    const target = person.find(person => person.name === newObj.name)\n\n    if(target){\n      \n      if(window.confirm(`Updating ${target.name} number ?`)){\n      personServices.updatePerson(target, newObj, refreshData)\n      .then(data => displayNotif(`Updated ${target.name}`))\n      .catch(error => displayError(error.response.data.error))\n    \n      }\n      else{\n        refreshData()\n      }\n    }\n    else{\n    personServices.addPerson(newObj, refreshData)\n    .then(result => displayNotif(`Added ${newObj.name}`))\n    .catch(error => displayError(error.response.data.error))\n    }\n  }\n  const handleDeletionOf = (person) => {\n    if(window.confirm(`Do you really want to remove ${person.name} from the database ?`)){\n    personServices.removePerson(person, refreshData)\n    .then(data => displayNotif(`Removed ${person.name}`))\n    }\n  }\n\n\n  const errorStyle = {\n    backgroundColor : \"#912460\",\n    color : 'white',\n    borderRadius : '10px',\n    margin : \"50px\",\n    padding : \"10px\",\n    fontFamily: \"sans-serif\",\n    textAlign: \"center\"\n    \n  }\n  \n  const lStyle = { \n    listStyle : \"none\"\n  }\n  const bodyStyle = {textAlign : \"center\"}\n\n  const notifStyle = {\n    backgroundColor : \"#18F2B2\",\n    color : 'white',\n    borderRadius : \"10px\",\n    margin : \"10px\",\n    padding : \"10px\",\n    fontFamily : \"sans-serif\"\n  }\n  \n  useEffect(()=>{\n    setFiltered(person.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())))\n  }, [filter, person])\n\n\n  useEffect(()=>{\n    refreshData()\n\n  }, [])\n  return (\n    <div style={bodyStyle}>\n      <h1>Phonebook App</h1>\n      <p>filter shown with <input value={filter} onChange={(event)=>setFilter(event.target.value)}></input></p>\n      <h1>Add someone </h1>\n      <form onSubmit={handleSubmit}>\n        <p>name:<input value={name} onChange={(event)=> setName(event.target.value)}></input></p>\n        <p>number: <input value={number} onChange={(event)=> setNumber(event.target.value)}></input></p>\n        <button type=\"submit\">add</button>\n      </form>\n\n    <ul style={lStyle}>\n      {filtered.map(person => <li key={person.id}>{person.name} {person.number}<button style={{marginLeft: \"10px\"}} onClick={()=>{handleDeletionOf(person)}}>remove</button></li>)}\n    </ul>\n    <span>\n    <h1 style={errorMsg ? errorStyle : {}}>{errorMsg}</h1>\n    <h1 style={notification ? notifStyle : {}}>{notification}</h1>\n    </span>\n    </div>\n\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}